<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Bogue.Main.html">
<link rel="next" href="Bogue.Popup.html">
<link rel="Up" href="Bogue.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Bogue" rel="Chapter" href="Bogue.html"><link title="Using Bogue together with another graphics loop" rel="Section" href="#2_UsingBoguetogetherwithanothergraphicsloop">
<link title="Creating global keyboard shortcuts" rel="Subsection" href="#shortcuts">
<title>Bogue.Bogue</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Bogue.Main.html" title="Bogue.Main">Previous</a>
&nbsp;<a class="up" href="Bogue.html" title="Bogue">Up</a>
&nbsp;<a class="post" href="Bogue.Popup.html" title="Bogue.Popup">Next</a>
</div>
<h1>Module <a href="type_Bogue.Bogue.html">Bogue.Bogue</a></h1>

<pre><span id="MODULEBogue"><span class="keyword">module</span> Bogue</span>: <code class="type"><a href="Bogue.Main.html">Main</a></code></pre><div class="info module top">
<div class="info-desc">
<p>Alias for <a href="Bogue.Main.html"><code class="code"><span class="constructor">Main</span></code></a></p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEboard"><span class="keyword">type</span> <code class="type"></code>board</span> </pre>
<div class="info ">
<div class="info-desc">
<p>The board is the whole universe of your GUI. It contains everything.</p>
</div>
</div>


<pre><span id="TYPEshortcuts"><span class="keyword">type</span> <code class="type"></code>shortcuts</span> </pre>


<pre><span id="EXCEPTIONExit"><span class="keyword">exception</span> Exit</span></pre>
<div class="info ">
<div class="info-desc">
<p>Raising the <code class="code"><span class="constructor">Exit</span></code> exception will tell the GUI loop to terminate.</p>
</div>
</div>

<pre><span id="VALexit_on_escape"><span class="keyword">val</span> exit_on_escape</span> : <code class="type">int * int * (<a href="Bogue.Main.html#TYPEboard">board</a> -&gt; unit)</code></pre><div class="info ">
<div class="info-desc">
<p>If the <code class="code">exit_on_escape</code> shortcut is given to the <a href="Bogue.Main.html#VALmake"><code class="code"><span class="constructor">Main</span>.make</code></a> function, then
     the <a href="Bogue.Main.html#EXCEPTIONExit"><code class="code"><span class="constructor">Main</span>.<span class="constructor">Exit</span></code></a> exception will be raised upon pressing the Escape key.</p>
</div>
</div>

<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">?shortcuts:<a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a> -&gt;<br>       ?connections:<a href="Bogue.Widget.html#TYPEconnection">Widget.connection</a> list -&gt;<br>       ?on_user_event:(Tsdl.Sdl.event -&gt; unit) -&gt;<br>       <a href="Bogue.Window.html#TYPEt">Window.t</a> list -&gt; <a href="Bogue.Main.html#TYPEboard">board</a></code></pre><div class="info ">
<div class="info-desc">
<p>Create a <code class="code">board</code> from a list of layouts and connections. The list of
     connections can be empty, because connections can be added afterwards. Each
     Layout in the list will open as a new window.</p>
</div>
</div>
<div class="param_info"><code class="code">shortcuts</code> : This optional argument is a <a href="#shortcuts">shortcut map</a>.</div>
<div class="param_info"><code class="code">on_user_event</code> : This optional argument is a function to be executed
     (by the main thread) when a <a href="Bogue.Trigger.html#VALuser_event"><code class="code"><span class="constructor">Trigger</span>.user_event</code></a> is emitted.</div>

<pre><span id="VALget_monitor_refresh_rate"><span class="keyword">val</span> get_monitor_refresh_rate</span> : <code class="type"><a href="Bogue.Main.html#TYPEboard">board</a> -&gt; int option</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_monitor_refresh_rate&nbsp;board</code> returns the monitor refresh rate, for the
      monitor containing <code class="code">board</code>. In case of several monitors with different
      refresh rates, return the greatest common divisor, or the minimum if the
      gcd is less than 30.</p>
</div>
</div>

<pre><span id="VALof_windows"><span class="keyword">val</span> of_windows</span> : <code class="type">?shortcuts:<a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a> -&gt;<br>       ?connections:<a href="Bogue.Widget.html#TYPEconnection">Widget.connection</a> list -&gt;<br>       ?on_user_event:(Tsdl.Sdl.event -&gt; unit) -&gt;<br>       <a href="Bogue.Window.html#TYPEt">Window.t</a> list -&gt; <a href="Bogue.Main.html#TYPEboard">board</a></code></pre><div class="info ">
<div class="info-desc">
<p>Synonym for <a href="Bogue.Main.html#VALcreate"><code class="code"><span class="constructor">Main</span>.create</code></a>. (Since 20220418)</p>
</div>
</div>

<pre><span id="VALof_layouts"><span class="keyword">val</span> of_layouts</span> : <code class="type">?shortcuts:<a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a> -&gt;<br>       ?connections:<a href="Bogue.Widget.html#TYPEconnection">Widget.connection</a> list -&gt;<br>       ?on_user_event:(Tsdl.Sdl.event -&gt; unit) -&gt;<br>       <a href="Bogue.Layout.html#TYPEt">Layout.t</a> list -&gt; <a href="Bogue.Main.html#TYPEboard">board</a></code></pre><div class="info ">
<div class="info-desc">
<p>Similar to <a href="Bogue.Main.html#VALcreate"><code class="code"><span class="constructor">Main</span>.create</code></a>. Each layout in the list will be displayed in a
     different window. (Since 20220418)</p>
</div>
</div>

<pre><span id="VALof_layout"><span class="keyword">val</span> of_layout</span> : <code class="type">?shortcuts:<a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a> -&gt;<br>       ?connections:<a href="Bogue.Widget.html#TYPEconnection">Widget.connection</a> list -&gt;<br>       ?on_user_event:(Tsdl.Sdl.event -&gt; unit) -&gt; <a href="Bogue.Layout.html#TYPEt">Layout.t</a> -&gt; <a href="Bogue.Main.html#TYPEboard">board</a></code></pre><div class="info ">
<div class="info-desc">
<p>Similar to <a href="Bogue.Main.html#VALof_layout"><code class="code"><span class="constructor">Main</span>.of_layout</code></a> but with only one layout. (Since 20220418)</p>
</div>
</div>

<pre><span id="VALmake"><span class="keyword">val</span> make</span> : <code class="type">?shortcuts:<a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a> -&gt;<br>       <a href="Bogue.Widget.html#TYPEconnection">Widget.connection</a> list -&gt; <a href="Bogue.Layout.html#TYPEt">Layout.t</a> list -&gt; <a href="Bogue.Main.html#TYPEboard">board</a></code></pre><div class="info ">
<div class="info-deprecated">
<span class="warning">Deprecated. </span>(since 20220418). Use <a href="Bogue.Main.html#VALof_layouts"><code class="code"><span class="constructor">Main</span>.of_layouts</code></a> or <a href="Bogue.Main.html#VALcreate"><code class="code"><span class="constructor">Main</span>.create</code></a> instead.</div>
<div class="info-desc">
<p>Similar to <a href="Bogue.Main.html#VALof_layouts"><code class="code"><span class="constructor">Main</span>.of_layouts</code></a>.</p>
</div>
</div>

<pre><span id="VALrun"><span class="keyword">val</span> run</span> : <code class="type">?vsync:bool -&gt;<br>       ?before_display:(unit -&gt; unit) -&gt;<br>       ?after_display:(unit -&gt; unit) -&gt; <a href="Bogue.Main.html#TYPEboard">board</a> -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>This is finally how you run your app! It creates the SDL windows
     associated with the <a href="Bogue.Window.html#TYPEt"><code class="code"><span class="constructor">Window</span>.t</code></a>s registered with the board, and launches
     the main loop. This function only returns when all windows are closed (in
     case at least one window was created), or when the <a href="Bogue.Main.html#EXCEPTIONExit"><code class="code"><span class="constructor">Main</span>.<span class="constructor">Exit</span></code></a> exception is
     raised.
    <code class="code">vsync</code> defaults to <code class="code"><span class="keyword">true</span></code> and enables synchronization to monitor refresh rate
    where possible, otherwise a 60 FPS <a href="Bogue.Time.html#VALadaptive_fps"><code class="code"><span class="constructor">Time</span>.adaptive_fps</code></a> is used.</p>
</div>
</div>
<h4 id="shortcuts">Creating global keyboard shortcuts</h4>
<pre><span id="TYPEshortcut_action"><span class="keyword">type</span> <code class="type"></code>shortcut_action</span> = <code class="type"><a href="Bogue.Main.html#TYPEboard">board</a> -&gt; unit</code> </pre>


<pre><span id="VALshortcuts_empty"><span class="keyword">val</span> shortcuts_empty</span> : <code class="type">unit -&gt; <a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a></code></pre>
<pre><span id="VALshortcuts_add"><span class="keyword">val</span> shortcuts_add</span> : <code class="type"><a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a> -&gt;<br>       ?keymod:Tsdl.Sdl.keymod -&gt;<br>       int -&gt; <a href="Bogue.Main.html#TYPEshortcut_action">shortcut_action</a> -&gt; <a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a></code></pre>
<pre><span id="VALshortcuts_add_ctrl"><span class="keyword">val</span> shortcuts_add_ctrl</span> : <code class="type"><a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a> -&gt;<br>       int -&gt; <a href="Bogue.Main.html#TYPEshortcut_action">shortcut_action</a> -&gt; <a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a></code></pre>
<pre><span id="VALshortcuts_add_ctrl_shift"><span class="keyword">val</span> shortcuts_add_ctrl_shift</span> : <code class="type"><a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a> -&gt;<br>       int -&gt; <a href="Bogue.Main.html#TYPEshortcut_action">shortcut_action</a> -&gt; <a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a></code></pre>
<pre><span id="VALshortcuts_of_list"><span class="keyword">val</span> shortcuts_of_list</span> : <code class="type">(int * int * <a href="Bogue.Main.html#TYPEshortcut_action">shortcut_action</a>) list -&gt; <a href="Bogue.Main.html#TYPEshortcuts">shortcuts</a></code></pre><div class="info ">
<div class="info-desc">
<p>Construct shortcuts from a list of (SDL keycode, SDL keymod, action).</p>
</div>
</div>
<h3 id="2_UsingBoguetogetherwithanothergraphicsloop">Using Bogue together with another graphics loop</h3>
<p>See the <code class="code">embed</code> example.</p>

<pre><span id="VALmake_sdl_windows"><span class="keyword">val</span> make_sdl_windows</span> : <code class="type">?windows:Tsdl.Sdl.window list -&gt; <a href="Bogue.Main.html#TYPEboard">board</a> -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>This is only useful if you have your own graphics loop, and do <em>not</em> use
     <a href="Bogue.Main.html#VALrun"><code class="code"><span class="constructor">Main</span>.run</code></a>. This function creates an SDL window for each top layout in the
     board. One can use predefined windows with the optional argument
     <code class="code">windows</code>. They will be used by the layouts in the order they appear in the
     list. If there are fewer windows than layouts, new windows are created. If
      there are more, the excess is disregarded.</p>
</div>
</div>

<pre><span id="VALrefresh_custom_windows"><span class="keyword">val</span> refresh_custom_windows</span> : <code class="type"><a href="Bogue.Main.html#TYPEboard">board</a> -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>Ask the GUI to refresh (ie. repaint) the custom windows (those that were
     not created by Bogue itself).</p>
</div>
</div>

<pre><span id="VALone_step"><span class="keyword">val</span> one_step</span> : <code class="type">?before_display:(unit -&gt; unit) -&gt;<br>       bool -&gt;<br>       (unit -&gt; unit) * (unit -&gt; unit) -&gt; ?clear:bool -&gt; <a href="Bogue.Main.html#TYPEboard">board</a> -&gt; bool</code></pre><div class="info ">
<div class="info-desc">
<p>This is only useful if you have your own graphics loop, and do <em>not</em> use
   <a href="Bogue.Main.html#VALrun"><code class="code"><span class="constructor">Main</span>.run</code></a>. Calling <code class="code">one_step&nbsp;~before_display&nbsp;anim&nbsp;(start_fps,&nbsp;fps)&nbsp;~clear&nbsp;board</code>
   is what is executed at each step of the Bogue mainloop. If <code class="code">anim=<span class="keyword">true</span></code> this
   step is <em>non blocking</em>; this is what you want if either Bogue or your loop
   has an animation running. If <code class="code">anim=<span class="keyword">false</span></code> then the function will wait until
   an event is received.</p>
</div>
<ul class="info-attributes">
<li><b>Returns</b> <code class="code"><span class="keyword">true</span></code> if the GUI currently handles an animation. In this case
   <code class="code">fps()</code> was executed by <code class="code">one_step</code>. If not, you should handle the frame rate
   yourself.</li>
</ul>
</div>

<pre><span id="VALget_frame"><span class="keyword">val</span> get_frame</span> : <code class="type">unit -&gt; int</code></pre><div class="info ">
<div class="info-desc">
<p>Number of displayed frames since startup.</p>
</div>
</div>

<pre><span id="VALquit"><span class="keyword">val</span> quit</span> : <code class="type">unit -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p>Use this to close SDL windows and cleanup memory, after <a href="Bogue.Main.html#VALrun"><code class="code"><span class="constructor">Main</span>.run</code></a> has
     returned. This does not exit your program. Calling <code class="code">quit&nbsp;()</code> is not
     necessary if your program exits after <a href="Bogue.Main.html#VALrun"><code class="code"><span class="constructor">Main</span>.run</code></a>.</p>
</div>
</div>
</body></html>
